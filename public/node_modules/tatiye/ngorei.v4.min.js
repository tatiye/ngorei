import t,{modalEntri as i,mainRouterId as a,modalRouteFrom as e,useHandel as r,useTabPages as d,readmore as s,components as l,getItemStorage as o,setSplit as h,replace as n,explode as c,countWords as f,setItemStorage as v,packageIndex as m,useHandelIDTabel as u,setFrom as g,setModal as p,elDOM as y,pathRoute as k,queryElements as b,itemSpinner as x,objectRoute as _,romawi as w,splitLeft as C,assetsDOM as M,elsDOM as S,rtsDOM as q,textContentDOM as A,textDOM as z,setToken as N,thumbnail as j,imgGroup as P,textContentOrigin as O,setDecode as D,modalDOM as L,setDateTime as G,rupiah as T,fetchKey as B,fetchCharts as I,fetchIndex as R,useTabelToken as E,terbilang as F,fetchGrid as H,jsonCode as J}from"./es6.js";import{chartPieDOM as K}from"./Charts/index.js";let count=0;export function elementsApi(t,i="1",a=""){let e=r({token:t.fetch,storage:{limit:t.key,where:t.keywords,order:t.order,page:i,keywords:a}});return t.consule&&($(t.primarykey).after('<div id="'+t.consule+'"></div>'),J(e,t.consule)),$("#"+t.tabel+"_page").html(e.page),$("#"+t.tabel+"_limit").html(e.limit),$("#"+t.tabel+"_data").html(e.total_data),e.storage}export function elementsCharts(t,i="",a=""){let e=I({storage:{tabel:t.mytabel,group:t.key,query:t.keywords,order:t.order,count:t.count,page:i,keywords:a}});return t.consule&&($(t.primarykey).after('<div id="'+t.consule+'"></div>'),J(e,t.consule)),$(t.primarykey+"_total").html(e.total),$(t.primarykey+"_date").html(e.date),$(t.primarykey+"_calculat").html(e.calculat),e.storage}export function elementsContent(t,i="",a=""){let e=B({storage:{tabel:t.mytabel,limit:t.key,query:t.keywords,order:t.order,page:i,keywords:a}});return v({item:"pagination",data:{page:t.page,count:e.pagination}}),$("#"+t.tabel+"_page").html(e.page),$("#"+t.tabel+"_limit").html(e.limit),$("#"+t.tabel+"_data").html(e.total_data),t.consule&&($(t.primarykey).after('<div id="'+t.consule+'"></div>'),J(e,t.consule)),e.storage}export function elementsDOM4Charts(t,i="1",a="",e=""){q("mainrouter");var r=elementsCharts(t,i,a);t.tabel;var d=t.tabel,l=t.primarykey,o=l,h="",n={},c=document.querySelectorAll(l),f=c[0].children[0],c=f.querySelectorAll("div,a,ul,li,i,img,span,nav,dd,dt,small,h1,h2,h3,h4,h5,h6,button,p");$.each(r,function(i,a){$(c).each(function(e){$(f).attr("id",D(a.id));var r=$(this).attr(d);if($(this).attr("id",t.contenPage+"fetch"+e+i),r){if(0!==this.childNodes.length)var s=this.childNodes[0].textContent;else var s="";var l={id:"#"+t.contenPage+"fetch"+e+i,uid:D(a.id),byId:t.contenPage+"fetch"+e+i,tabel:r,key:i,textContent:s};Array.prototype.push.call(n,l)}}),h+=$(o).html()}),$(l).html(h),$.each($(n),function(t,i){document.querySelectorAll(i.id);var a=r[i.key][i.tabel],e=i.textContent;if($(i.id).attr("date")){var d=G($(i.id).attr("date"),a),l=O(e,d);$(i.id).html(l)}else if($(i.id).attr("data-peity"))$(i.id).attr("data-peity",'{ "fill": ["'+r[i.key].clr+'","#e5e9f2"], "height": 100, "width": 100, "innerRadius": 46 }'),$(i.id).html(r[i.key].peity);else if($(i.id).attr("addclass")){var o=$(i.id).attr("addclass");$(i.id).addClass(r[i.key][o])}else if($(i.id).attr("addBadge")){var l=O(e,a);$(i.id).html(l),$(i.id).addClass("badge-"+r[i.key].bg)}else if($(i.id).attr("text")){var h=a,n=e;if("romawi"==$(i.id).attr("text")){var l=O(n,w(h));$(i.id).html(l)}if("idr"==$(i.id).attr("text")){var l=O(n,T(h));$(i.id).html(l)}if("terbilang"==$(i.id).attr("text")){var l=O(n,F(h));$(i.id).html(l)}if("angka"==$(i.id).attr("text")){var l=O(n,T(h));$(i.id).html(l)}}else{if($(i.id).attr("textMore"))var c=s(a,$(i.id).attr("textMore"));else var c=a;var l=O(e,c);$(i.id).html(l)}utilitiesDOM(i.id)})}export function elementsDOM4Swiper(i,a="1",e="",r=""){var d=elementsContent(i,a,e);q("mainrouter"),i.tabel;var l=i.tabel,o=i.primarykey,h=o,n="",f={},v=document.querySelectorAll(o),m=v[0].children[0],v=m.querySelectorAll("div,a,ul,li,i,img,span,nav,dd,dt,small,h1,h2,h3,h4,h5,h6,button,p");$.each(d,function(t,a){$(v).each(function(e){$(m).attr("id",D(a.id));var r=$(this).attr(l);if($(this).attr("id",i.contenPage+"fetch"+e+t),r){if(0!==this.childNodes.length)var d=this.childNodes[0].textContent;else var d="";var s={id:"#"+i.contenPage+"fetch"+e+t,uid:D(a.id),byId:i.contenPage+"fetch"+e+t,tabel:r,key:t,textContent:d};Array.prototype.push.call(f,s)}}),n+=$(h).html()}),$(o).html(n),$.each($(f),function(i,a){var e=document.querySelectorAll(a.id),r=d[a.key][a.tabel];if($("#"+a.uid).attr("carousel")&&$("#"+a.uid).addClass(d[a.key].class),"img"==e[0].localName){if($(a.id).addClass("images"+a.uid),$(a.id).attr("lightbox")){var o=$(a.id).attr("titel");$(a.id).attr("titel",d[a.key][o]),$(a.id).attr("onclick","goLightbox([`"+a.id+"`,`"+D(a.uid)+"`])")}r?c(r,"https",1)?$(a.id).attr("src",r):$(a.id).attr("src",t.routes+"/"+r):$(a.id).attr("src")||$(a.id).attr("src",t.routes+"/assets/images/carousel-1.svg")}else if("a"==e[0].localName){if($(a.id).attr("modal")){var h=$(a.id).attr("modal");if($(a.id).attr("switch"))var n=$(a.id).attr("switch");else var n=$(a.id).attr("modal");var f=n+"_"+a.uid;$(a.id).attr("id",f),$("#"+f).click(function(){L(this.id,D(a.uid),h)})}if("dropdown"==$(a.id).attr("el")){var v=$(a.id).attr("type"),m=y("el","dropdown",v);$(a.id).html(m.template);var u=document.querySelectorAll(a.id+" a");$.each(u,function(t,i){if("modal"==v){if($(a.id).attr("href","javascript:void(0);"),$(i).attr("modal")){if($(i).attr("switch"))var e=$(i).attr("switch");else var e=$(i).attr("modal");var r=e+"_dropdown_"+v+"_"+a.uid;$(i).attr("id",r),$("a #"+r).click(function(){L(this.id,D(a.uid),$(this).attr("modal"))})}}else $.each(u,function(t,i){$(i).attr("id",a.uid)})})}if("id"==a.tabel)$(a.id).attr("id",a.uid),$(a.id).attr("onclick")||$(a.id).attr("onclick","return false;"),$(a.id).attr("href","javascript:void(0);");else{var g=$(a.id).attr("href"),p=$(a.id).attr("link");let k=d[a.key].base;var b=$(a.id).attr("lightbox");if("date"==p){var x=d[a.key][p]+"/"+k;$(a.id).attr("href",t.routes+"/"+g+"/"+x)}else if("text"==p)$(a.id).attr("href","javascript:void(0);"),$(a.id).attr("onclick","internalLink(`"+g+"/"+k+"`)");else if(b){var o=$(a.id).attr("titel");$(a.id).attr("titel",d[a.key][o]),$(a.id).attr("src",d[a.key][o]),$(a.id).attr("onclick","goLightbox([`"+a.id+"`,`"+D(a.uid)+"`,`"+b+"`])")}else $(a.id).attr("href",t.routes+"/"+g+"/"+k)}}else{var _=a.textContent;if($(a.id).attr("date")){var C=G($(a.id).attr("date"),r),M=O(_,C);$(a.id).html(M)}else if($(a.id).attr("addBadge")){var M=O(_,r);$(a.id).html(M),$(a.id).addClass("badge-"+d[a.key].bg)}else if($(a.id).attr("imgGroup"))$(a.id).attr("id","imgGroup"+a.uid),P("#imgGroup"+a.uid,D(a.uid),l,a.uid);else if($(a.id).attr("text")){var S=r,q=_;if("romawi"==$(a.id).attr("text")){var M=O(q,w(S));$(a.id).html(M)}if("idr"==$(a.id).attr("text")){var M=O(q,T(S));$(a.id).html(M)}if("terbilang"==$(a.id).attr("text")){var M=O(q,F(S));$(a.id).html(M)}if("angka"==$(a.id).attr("text")){var M=O(q,T(S));$(a.id).html(M)}}else{if($(a.id).attr("textMore"))var A=s(r,$(a.id).attr("textMore"));else var A=r;var M=O(_,A);$(a.id).html(M)}}utilitiesDOM(a.id)})}export function elementsDOM4(i,a="1",e="",r=""){if(q("mainrouter"),"api"==i.setType)var d=elementsApi(i,a,e);else if("external"==i.setType)var d=r;else if("object"==i.setType)var d=r;else if("exempt"==i.setType)var d=r;else if("firebase"==i.setType)var d=r;else var d=elementsContent(i,a,e);i.tabel;var l=i.tabel,o=i.primarykey,h=o;$(o).hide();var n=i.elements,f="",v={},m=document.querySelectorAll(i.primarykey),u=m[0].children[0],m=u.querySelectorAll("div,a,ul,li,i,img,span,nav,dd,dt,small,h1,h2,h3,h4,h5,h6,button,p");$.each(d,function(t,a){$(m).each(function(e){$(u).attr("id",D(a.id));var r=$(this).attr(l);if($(this).attr("id",i.contenPage+"fetch"+e+t),r){if(0!==this.childNodes.length)var d=this.childNodes[0].textContent;else var d="";var s={id:"#"+i.contenPage+"fetch"+e+t,uid:D(a.id),byId:i.contenPage+"fetch"+e+t,tabel:r,key:t,textContent:d};Array.prototype.push.call(v,s)}}),f+=$(h).html()}),$(n).html(f),$.each($(v),function(i,a){var e=document.querySelectorAll(a.id),r=d[a.key][a.tabel];if($("#"+a.uid).attr("carousel")&&$("#"+a.uid).addClass(d[a.key].class),"img"==e[0].localName){if($(a.id).addClass("images"+a.uid),$(a.id).attr("lightbox")){var o=$(a.id).attr("titel");$(a.id).attr("titel",d[a.key][o]),$(a.id).attr("onclick","goLightbox([`"+a.id+"`,`"+D(a.uid)+"`])")}r?c(r,"https",1)?$(a.id).attr("src",r):c(r,"http",1)?$(a.id).attr("src",r):$(a.id).attr("src",t.routes+"/"+r):$(a.id).attr("src")||$(a.id).attr("src",t.routes+"/assets/images/carousel-1.svg")}else if("a"==e[0].localName){if($(a.id).attr("href")){var h=$(a.id).attr("href");let n=c(h,"/",0),f=c(h,"/",1),v=c(h,"/",2);f?v?$(a.id).attr("href",t.routes+"/"+n+"/"+d[a.key][f]+"/"+d[a.key][v]):$(a.id).attr("href",t.routes+"/"+n+"/"+d[a.key][f]):$(a.id).attr("href",d[a.key][h]),"#"==h&&$(a.id).attr("href","javascript:void(0);")}if($(a.id).attr("modal")){var m=$(a.id).attr("modal");if($(a.id).attr("switch"))var u=$(a.id).attr("switch");else var u=$(a.id).attr("modal");var g=u+"_"+a.uid;$(a.id).attr("id",g),$("#"+g).click(function(){L(this.id,D(a.uid),m)})}var p=$(a.id).attr("href"),y=$(a.id).attr("link");let k=d[a.key].base;var b=$(a.id).attr("lightbox");if(b){var o=$(a.id).attr("titel");$(a.id).attr("titel",d[a.key][o]),$(a.id).attr("src",d[a.key][o]),$(a.id).attr("onclick","goLightbox([`"+a.id+"`,`"+D(a.uid)+"`,`"+b+"`])")}"text"==y&&($(a.id).attr("href","javascript:void(0);"),$(a.id).attr("onclick","internalLink(`"+p+"/"+k+"`)"))}else{var x=a.textContent;if($(a.id).attr("date")){var _=G($(a.id).attr("date"),r),C=O(x,_);$(a.id).html(C)}else if($(a.id).attr("addclass")){var M=$(a.id).attr("addclass");$(a.id).addClass(d[a.key][M])}else if($(a.id).attr("addBadge")){var C=O(x,r);$(a.id).html(C),$(a.id).addClass("badge-"+d[a.key].bg)}else if($(a.id).attr("imgGroup"))$(a.id).attr("id","imgGroup"+a.uid),P("#imgGroup"+a.uid,D(a.uid),l,a.uid);else if($(a.id).attr("text")){var S=r,q=x;if("romawi"==$(a.id).attr("text")){var C=O(q,w(S));$(a.id).html(C)}if("idr"==$(a.id).attr("text")){var C=O(q,T(S));$(a.id).html(C)}if("terbilang"==$(a.id).attr("text")){var C=O(q,F(S));$(a.id).html(C)}if("angka"==$(a.id).attr("text")){var C=O(q,T(S));$(a.id).html(C)}}else{if($(a.id).attr("textMore"))var A=s(r,$(a.id).attr("textMore"));else var A=r;var C=O(x,A);$(a.id).html(C)}}utilitiesDOM(a.id)})}export function elementsDOM4Grid(i,a="1",e=""){var r=i.page+"."+i.key;if(i.keywords)var d=i.keywords;else var d="row=1";var l=H(i.mytabel+","+d+","+r,"",i.order,e).data;i.tabel;var o=i.tabel;i.primarykey,i.elements;var h={},h={},n={};$(document.querySelectorAll("div,a,ul,li,i,img,span,nav,dd,dt,small,h1,h2,h3,h4,h5,h6,button,p")).each(function(t,i){if($(this).attr("grid")){var a=$(this).attr("grid");$(this).attr("id","grid_"+a),Array.prototype.push.call(h,{id:"#grid_"+a,uid:a})}}),$.each($(h),function(t,a){var e=document.querySelectorAll(a.id)[0].children[0].querySelectorAll("div,a,ul,li,i,img,span,nav,dd,dt,small,h1,h2,h3,h4,h5,h6,p");$.each($(e),function(e,r){if($(r).attr(o)){var d=$(r).attr(o);if($(this).attr("id",i.contenPage+"_grid_id_"+e+"_"+t),l[a.uid][d])var s=l[a.uid][d];else var s="";var h=$(this)[0].innerText,c={id:"#"+i.contenPage+"_grid_id_"+e+"_"+t,value:s,origin:h,localName:$(this)[0].localName,uid:t};Array.prototype.push.call(n,c)}})}),$.each($(n),function(i,a){var e=a.value,r=a.origin;if("img"==a.localName)e?$(a.id).attr("src",t.routes+"/"+e):$(a.id).attr("src")||$(a.id).attr("src",t.routes+"/assets/images/carousel-1.svg");else if("a"==a.localName){var d=$(a.id).attr("link"),o=$(a.id).attr("href");if(d){let h=l[a.uid].base;if("date"==d){var n=l[a.uid][d]+"/"+h;$(a.id).attr("href",t.routes+"/"+o+"/"+n)}else if("text"==d){if($(a.id).attr("href","javascript:void(0);"),$(a.id).attr("onclick","internalLink(`"+o+"/"+h+"`)"),$(a.id).attr("textMore"))var c=s(e,$(a.id).attr("textMore"));else var c=e;$(a.id).html(a.origin+" "+c)}else"img"==d?($(a.id).attr("href","javascript:void(0);"),$(a.id).attr("onclick","internalLink(`"+o+"/"+h+"`)")):$(a.id).attr("href",t.routes+"/"+o+"/"+h)}else{let f=l[a.uid].base;$(a.id).attr("href",t.routes+"/"+o+"/"+f),$(a.id).html(a.origin+" "+e)}}else{var r=a.origin;if($(a.id).attr("date")){var v=G($(a.id).attr("date"),e),m=O(r,v);$(a.id).html(m)}else if($(a.id).attr("addBadge"))$(a.id).html(a.origin+" "+e),$(a.id).addClass("badge-"+l[a.uid].bg);else if($(a.id).attr("text")){var u=r;if("romawi"==$(a.id).attr("text")){var m=O(u,w(e));$(a.id).html(m)}if("idr"==$(a.id).attr("text")){var m=O(u,T(e));$(a.id).html(m)}if("terbilang"==$(a.id).attr("text")){var m=O(u,F(e));$(a.id).html(m)}if("angka"==$(a.id).attr("text")){var m=O(u,T(e));$(a.id).html(m)}}else{if($(a.id).attr("textMore"))var c=s(e,$(a.id).attr("textMore"));else var c=e;$(a.id).html(a.origin+" "+c)}}utilitiesDOM(a.id)})}export function utilitiesDOM(i=""){$(document.querySelectorAll(i)).each(function(i){if($(this).attr("ht")){var a=$(this).attr("ht");$(this).css({height:a})}if($(this).attr("wt")){var a=$(this).attr("wt");$(this).css({width:a})}if($(this).attr("bg")){var e=$(this).attr("bg");$(this).css({"background-color":e})}if($(this).attr("pd")){var r=$(this).attr("pd");$(this).css({padding:r})}if($(this).attr("pt")){var r=$(this).attr("pt");$(this).css({"padding-top":r})}if($(this).attr("pt")){var r=$(this).attr("pt");$(this).css({"padding-right":r})}if($(this).attr("pb")){var r=$(this).attr("pb");$(this).css({"padding-bottom":r})}if($(this).attr("pl")){var r=$(this).attr("pl");$(this).css({"padding-left":r})}if($(this).attr("br")){var r=$(this).attr("br");$(this).css({"border-radius":r})}if($(this).attr("mg")){var r=$(this).attr("mg");$(this).css({margin:r})}if($(this).attr("mt")){var r=$(this).attr("mt");$(this).css({"margin-top":r})}if($(this).attr("mr")){var r=$(this).attr("mr");$(this).css({"margin-right":r})}if($(this).attr("mb")){var r=$(this).attr("mb");$(this).css({"margin-bottom":r})}if($(this).attr("ml")){var r=$(this).attr("ml");$(this).css({"margin-left":r})}if($(this).attr("fs")){var d=$(this).attr("fs");$(this).css({"font-size":d})}if($(this).attr("scrollbar")){$(this).addClass("setScrol");var d=$(this).attr("scrollbar");$(this).css({"max-height":d})}if($(this).attr("tx")){var d=$(this).attr("tx");$(this).css({color:d})}if($(this).attr("size")){var s=$(this).attr("size"),l=s.split("x"),o=$(this).attr("id");$("#"+o).css({height:l[1]+"px",width:l[0]+"px"})}if($(this).attr("icon")){$(this).attr("id","icon"+i);var n=$(this).attr("icon"),s=$(this).attr("size"),l=s.split("x"),o=$(this).attr("id");$("#"+o).css({display:"inline-block","background-image":"url("+n+")","background-repeat":"no-repeat","background-size":"100% 100%"})}if($(this).attr("resizer")){$(this).attr("id","resizer"+i);var s=$(this).attr("resizer"),c=$(this).attr("src"),f=$(this).attr("watermark"),v=$(this).attr("crop"),m=$(this).attr("alt");let u=h(1,"images",c);var l=s.split("x");if("wt"==m)var g=l[2]+"x"+l[1],p=l[2],y=l[1],k=l[2];else if("ht"==m)var g=l[0]+"x"+l[2],p=l[0],y=l[2],k=l[2];else if("black"==m)var g=l[0]+"x"+l[1],p=l[0],y=l[1],k="";else var g=l[0]+"x"+l[1],p=l[0],y=l[1],k="";let b=[];if(u)var x=t.routes+"/images/"+g+u,_=g+""+u;else var x=t.routes+"/images/"+g+"/"+c,_=g+"/"+c;$(this).attr("src",x);var o=$(this).attr("id");if($("#"+o).css({display:"inline-block","background-image":"url("+b.resizer+")","background-repeat":"no-repeat","background-size":"100% 100%",width:p+"px",height:y+"px"}),f)var w=f;else var w="";if(v)var C=v;else var C="";$.ajax({url:t.api+"/v1/select/imageresizer",method:"POST",data:JSON.stringify({size:_,file:c,resizer:g,sizecastom:k,label:m,watermark:w,cropimg:C}),datatype:"json",async:!1,success:function(t){b=JSON.parse(JSON.stringify(t,null,10))}})}})}
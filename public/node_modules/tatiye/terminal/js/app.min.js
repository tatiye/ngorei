$(document).ready(function(){
      shortcut.add("ctrl+q",function() {
        $("#wf08Terminal").show();
      });
       shortcut.add("ctrl+x",function() {
        $('#wf08Terminal').hide();      
      });
 });
$("#w08_dialogTerminal").draggable({
  handle: "#terminalHeader",
  scroll: false
 });

      $(document).ready(function(){
          $("#nugi").html(Cookies.get("SDKLOGIN"));
      });


 var DemoCommand ;
(function(){
    "use strict";
    DemoCommand = {};
    DemoCommand.instance = function(selector){
        var cmd = new CommandLine(selector);
        cmd.addCommand("login",function(){
            this.prompt("Enter your Email [Type Email]: ",function(username){
                cmd.secret("Enter your password [Type Password]",function(password){
                        setTimeout(function(){
                            cmd.info('Authenticating ...');
                            setTimeout(function(){
                                cmd.info('Loading Application ...');
                                setTimeout(function(){
                                    cmd.warning('I am not saving this password! Don\'t worry :)');
                                    setTimeout(function(){
                                        cmd.success('System Ready to use...');
                                        loginUser(username,password);
                                    },800);
                                },800);
                            },800);


                        },800);
                    // }
                });
            });
            return false;
        },'Login by email & password');
        return cmd;
    };

})();
  var cmd = DemoCommand.instance(document.getElementById('command-line-1'));
    cmd.output('Type any email to login');
    cmd.run('login');

 function loginUser(username,password) {
            var data = {}
            data["email"] =username;
            data["password"] =password;
            $.ajax({
                type:"POST",
                url: sdkOauth,
                data: JSON.stringify(data),
                dataType: 'json',
                timeout: 600000,
                success: function (data) {
                  cmd.info("Sukses Login Terminal");
                  Cookies.set('wf08Terminal', 'block', { expires: 10000});
                  var destroyLoader = setTimeout(function(){
                        location.reload();
                   },2000);
              },
                error: function (e) {
                    cmd.error("Periksa Email dan Pasword Anda");
                    cmd.run('login');
                }
            });
 }
import tatiyeNet,{
modalEntri,
mainRouterId,
modalRouteFrom,
useHandel,
useTabPages,
useHandelID
}  from "../es6.js"; 
 // import '../pagination.min.js';
export function setMyModal(row) {
    console.log(row)
//     if (row.property[0]=='detail') {
       let attribute=row.app+'-tatiye-'+row.element;
       const getAtr = document.querySelector(attribute); 
       let setID1='#'+getAtr.getAttribute('id');
       let header=getAtr.getAttribute('title');
       let setID='#'+getAtr.getAttribute('element');
       let element='body-'+getAtr.getAttribute('element');
       console.log(element)
       let headerName=$(setID1+' '+header).attr('name');
       let tabel='#'+getAtr.getAttribute('tabel');
       var dabatabse=useHandel({
            "token"          :row.token,
             "storage"       :row.storage
          })
        if (row.console==true) {
            console.log(dabatabse)
        }
        let setHeader=useHandelID(tabel+','+row.property[1]);
        $(setID1+' h6').html(setHeader[headerName]);
        $(setID1).modal('show');
            /*
            |--------------------------------------------------------------------------
            | Initializes getAttribute 
            |--------------------------------------------------------------------------
            | Develover Tatiye.Net 2018
            | @Date 
            */
            /**
             * @param array  options the display options .
             * @param mixed  Block to generate a customized inside  content.
             */

     
            
             var myTemplate='';
             dabatabse.storage.forEach(set => {
                 $(setID+" div").each(function( index ) {
                    if ($( this ).attr('name')) {
                     $(this).attr('id',$( this ).attr('name')+index+set.no)
                    }
                });
                 $(setID+" h1").each(function( index ) {
                    if ($( this ).attr('name')) {
                     $(this).attr('id',$( this ).attr('name')+index+set.no)
                    }
                });
                $(setID+" p").each(function( index ) {
                    if ($( this ).attr('name')) {
                     $(this).attr('id',$( this ).attr('name')+index+set.no)
                    }
                });

                $(setID+" a").each(function(index) {
                    if ($( this ).attr('name')) {
                       $(this).attr('name',index+set.no)
                       $(this).attr('id',set.id)
                    }
                });
                $(setID+" dropdown").each(function(index) {
                    if ($(this).attr('name')) {
                        $(this).attr('id','down'+set.no)
                        $(this).attr('name',set.id)
                    }

  
                });

               myTemplate +=$(setID).html();
            });
          
             $(element).html(myTemplate) 

            /*
            |--------------------------------------------------------------------------
            | Initializes Database 
            |--------------------------------------------------------------------------
            | Develover Tatiye.Net 2018
            | @Date 
            */
            /**
             * @param array  options the display options .
             * @param mixed  Block to generate a customized inside  content.
             */
           dabatabse.storage.forEach(set => {
                 $(setID+"  h1").each(function( index ) {
                   if ($( this ).attr('name')) {
                      var myId=$(this).attr('name')+index+set.no;
                      var myIdname=$(this).attr('name');
                      var myText=$(element +" #"+myId).html();
                      if ($(this).attr('textRight')) {
                         var textRight=$(this).attr('textRight');
                      } else {
                          var textRight='';
                      }
                      if ($(this).attr('textClass')) {
                         var textValue='<tx class="'+$(this).attr('textClass')+'">'+set[myIdname]+'</tx>';
                      } else {
                          var textValue=set[myIdname];
                      }  
                      $(element +" #"+myId).html(myText+' '+textValue+' '+textRight);
                   }
                });
                 $(setID+"  p").each(function( index ) {
                   if ($( this ).attr('name')) {
                      var myId=$(this).attr('name')+index+set.no;
                      var myIdname=$(this).attr('name');
                      var myText=$(element +" #"+myId).html();
                      if ($(this).attr('textRight')) {
                         var textRight=$(this).attr('textRight');
                      } else {
                          var textRight='';
                      }
                      if ($(this).attr('textClass')) {
                         var textValue='<tx class="'+$(this).attr('textClass')+'">'+set[myIdname]+'</tx>';
                      } else {
                          var textValue=set[myIdname];
                      }  
                      $(element +" #"+myId).html(myText+' '+textValue+' '+textRight);
                   }
                });
                 $(setID+"  div").each(function( index ) {
                   if ($( this ).attr('name')) {
                      var myId=$(this).attr('name')+index+set.no;
                      var myIdname=$(this).attr('name');
                      var myText=$(element +" #"+myId).html();
                      if ($(this).attr('textRight')) {
                         var textRight=$(this).attr('textRight');
                      } else {
                          var textRight='';
                      }
                      if ($(this).attr('textClass')) {
                         var textValue='<tx class="'+$(this).attr('textClass')+'">'+set[myIdname]+'</tx>';
                      } else {
                          var textValue=set[myIdname];
                      }  
                      $(element +" #"+myId).html(myText+' '+textValue+' '+textRight);
                   }
                }); 
            });






};

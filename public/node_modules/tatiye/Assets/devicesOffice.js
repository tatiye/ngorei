import tatiyeNet,{
    modalEntri,
    mainRouterId,
    modalRouteFrom,
    useHandelIDTabel,
    useTabelToken,
    readmore,
    useHandelSheet
}  from "../es6.js"; 
export function setuseDevices(element,id) {
   
                  var useToken=useTabelToken(element.token);
                  var setPackageTabel=useToken.messages[0]['Query']['tabel'];             
                  var rowsetIData =useHandelIDTabel(setPackageTabel+','+element['key']);
               
                   // var  seJSN = JSON.parse(rowsetIData['setChart']);
              
             let handelSheet=useHandelSheet("m7v/A0fDcjrThr/V3d43Fg,userid='"+tatiyeNet.userid+"' AND value='label'");
             var setRenderLabel='';
                $.each(handelSheet.data,function(uses, label){
                    var desain=`
                           <li class="menu-item">
                                <a onclick="useClick(['label','${element['key']}','nama','${label['kode']}','${label['deskripsi']}']);" href="javascript:void(0);" class="menu-button">
                                     <i class="feat feat-folder feat-scale-18 mr-10px"></i>
                                     <span>${label['deskripsi']}</span>
                                </a>
                           </li>`;
                       setRenderLabel +=desain;
               });


 var setdropdown='';
     var templaterecycle='';
     $(element.lengthMenu).each(function(index,key) {
        $.each(key,function(keydwn,dwn){

             if (dwn[0]=='delete') {
                             var desain=`
                                <li class="menu-item">
                                        <a onclick="useClick(['${dwn[0]}','${element.key}','${dwn[1]}','${dwn[3]}','${dwn[4]}']);"href="javascript:void(0);" class="menu-button">
                                              <i class="feat feat-${dwn[2]} feat-scale-18 mr-10px"></i>
                                            <span>${keydwn}</span>
                                          
                                            </a>
                                        </li>`;
                            templaterecycle +=desain;

              } else if (dwn[0]=='recycle') {
                             var desain=`
                                <li class="menu-item">
                                        <a onclick="useClick(['${dwn[0]}','${element.key}','${dwn[1]}','${dwn[3]}','${dwn[4]}']);"href="javascript:void(0);" class="menu-button">
                                              <i class="feat feat-${dwn[2]} feat-scale-18 mr-10px"></i>
                                            <span>${keydwn}</span>
                                          
                                            </a>
                                        </li>`;
                            templaterecycle +=desain;
              } else {
                   setdropdown +=`
                           <li class="menu-item">
                            <a onclick="useClick(['${dwn[0]}','${element.key}','${dwn[1]}','${dwn[3]}','${dwn[4]}']);"href="javascript:void(0);" class="menu-button">
                                  <i class="feat feat-${dwn[2]} feat-scale-18 mr-10px"></i>
                                <span>${keydwn}</span>
                                </a>
                            </li>`;
              }
        });
     });
     var desainTabel=`
                     <a href="javascript:void(0);" class="dropdown-link" data-toggle="dropdown"><i class="feat feat-more-vertical"></i></a>
                         <div style="padding-right:230px;border-color: rgb(131 146 165 / 0%);box-shadow: 0 0 8px 2px rgb(28 39 60 / 0%);"class="dropdown-menu">
                            <div style="margin-top:-30px;"" class="menu">

                                       <ul class="menu-list">
                                            <li class="menu-item">
                                                <span class="menu-button">
                                                    <i class="feat feat-archive feat-scale-18"></i> <span class="bold pl-10px">
                                                    ${readmore(rowsetIData.nama,15)}
                                                    </span>
                                                </span>
                                            </li>
                                       </ul>
                                     
                                    <ul class="menu-list">
                                       ${setdropdown}
                                    </ul>
                                    <ul class="menu-list">
                                            <li class="menu-item">
                                             <a onclick="useClick(['archive','${element['key']}','nama']);"href="javascript:void(0);" class="menu-button">
                                               <i class="feat feat-save feat-scale-18 mr-10px"></i>
                                               <span>Archive... </span>
                                               <span>CTRL+S </span>
                                              </a>
                                            </li>
                                    </ul>
                                    <ul class="menu-list">
                                            <li class="menu-item">
                                            <span   class="menu-button">
                                                 <i class="feat feat-folder feat-scale-18"></i>
                                                    <span style="margin-left:10px; width:80%"> Label</span>
                                                 <i class="pull-right icon-feather-chevron-right"></i>
                                             </span>
                                                <ul class="menu-sub-list">
                                                   ${setRenderLabel}
                                                </ul>
                                            </li>
                               
                                    </ul>
                                     <ul class="menu-list">
                                     ${templaterecycle}
                                    </ul>
                                </div>
                           </div>
       `;
     $(element.app).html(desainTabel);
};
// target="_blank"
